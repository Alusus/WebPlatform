# WebPlatform

[[English]](drawing.en.md)

[[رجوع]](../README.ar.md)

<div dir=rtl>

## رسـم (Drawing)

يستعمل هذا المكون (mixin) لتوفير عمليات الرسم لمختلف الأشكال في المرسم.

#### ارسم_خطا (drawLine)

```
عملية هذا.ارسم_خطا(س1: صـحيح، ع1: صـحيح، س2: صـحيح، ع2: صـحيح)؛
```

<div dir=ltr>

```
handler this.drawLine(x1: Int, y1: Int, x2: Int, y2: Int);
```

</div>

دالة تستعمل لرسم خط بين نقطتين.

#### ارسم_مضلعا (drawPolygon)

```
عملية هذا.ارسم_مضلعا(عدد_النقاط: صـحيح، النقاط: سند[مصفوفة[صـحيح]]، ممتلئ: ثـنائي)؛
```

<div dir=ltr>

```
handler this.drawPolygon(pointCount: Int, points: ref[array[Int]], filled: Bool);
```

</div>

دالة لرسم مضلع.

المعطيات:

* `عدد_النقاط` (`pointCount`) عدد نقاط المضلع.

* `النقاط` (`points`) نقاط المضلع.

* `ممتلئ` (`filled`) هل يجب رسم المضلع بشكل مليء أم مفرغ.

#### ارسم_مستطيلا_مليئا (drawFilledRect)

```
عملية هذا.ارسم_مستطيلا_مليئا(س: صـحيح، ع: صـحيح، عرض: صـحيح، ارتفاع: صـحيح)؛
```

<div dir=ltr>

```
handler this.drawFilledRect(x: Int, y: Int, w: Int, h: Int);
```

</div>

دالة لرسم مستطيل مليء بناءً على النقطة العليا من اليسار و العرض و الارتفاع.

#### فرغ_مستطيلا (clearRect)

```
عملية هذا.فرغ_مستطيلا(س: صـحيح، ع: صـحيح، عرض: صـحيح، ارتفاع: صـحيح)؛
```

<div dir=ltr>

```
handler this.clearRect(x: Int, y: Int, w: Int, h: Int);
```

</div>

دالة لتفريغ مستطيل بناءً على النقطة العليا من اليسار و العرض و الارتفاع.

#### ارسم_دائرة (drawCircle)

```
عملية هذا.ارسم_دائرة(س: صـحيح، ع: صـحيح، نصف_قطر: صـحيح)؛
```

<div dir=ltr>

```
handler this.drawCircle(x: Int, y: Int, r: Int);
```

</div>

دالة لرسم دائرة بناءً على إحداثيات المركز و نصف القطر.

#### ارسم_كتابة (drawText)

```
عملية هذا.ارسم_كتابة(نص: مؤشر[مـحرف]، خط: مؤشر[مـحرف]، س: صـحيح، ص: صـحيح)؛
عملية هذا.ارسم_كتابة(نص: مؤشر[مـحرف]، خط: مؤشر[مـحرف]، س: صـحيح، ص: صـحيح، من_اليمين: ثـنائي)؛
```

<div dir=ltr>

```
handler this.drawText(text: ptr[Char], font: ptr[Char], x: Int, y: Int);
handler this.drawText(text: ptr[Char], font: ptr[Char], x: Int, y: Int, rtl: Bool);
```

</div>

دالة لرسم نص.

المعطيات:

* `نص` (`text`) النص المراد رسمه.

* `خط` (`font`) الخط الذي نريد رسم النص به.

* `س` (`x`), `ص` (`y`) إحداثيات النص.

* `من_اليمين` (`rtl`) فيما لو كان النص يُكتب من اليمين بدل اليسار.

#### قس_أبعاد_كتابة (measureText)

```
عملية هذا.قس_أبعاد_كتابة(نص: مؤشر[مـحرف]، خط: مؤشر[مـحرف]): أبـعاد؛
```

<div dir=ltr>

```
handler this.measureText(text: ptr[Char], font: ptr[Char]): Dimensions;
```

</div>

دالة لقياس أبعاد نص بناء على النص و الخط المستعمل.

#### حدد_الاتجاه (setDirection)

```
عملية هذا.حدد_الاتجاه(اتجاه: مؤشر[مـحرف])؛
```

<div dir=ltr>

```
handler this.setDirection(dir: ptr[Char]);
```

</div>

تحديد اتجاه النص المبدئي لهذا المرسم.

#### حدد_نمط_الملء (setFillStyle)

```
عملية هذا.حدد_نمط_الملء(لون1: مؤشر[مـحرف]، لون2: مؤشر[مـحرف]، س1: صـحيح، ع1: صـحيح، س2: صـحيح، ع2: صـحيح)؛
```

<div dir=ltr>

```
handler this.setFillStyle(c1:ptr[Char], c2:ptr[Char], x1: Int, y1: Int, x2: Int, y2: Int);
```

</div>

تحديد نمط الملء بتدرج ما بين اللونين المعطيين. يبدأ التدرج باللون الأول من النقطة الأولى ويتدرج
باتجاه الشعاع الواصل بين النقطتين لينتهي باللون الثاني عند النقطة الثانية.

#### حدد_نمط_القلم (setStrokeStyle)

```
عملية هذا.حدد_نمط_القلم(طراز_القلم: مؤشر[مـحرف])؛
```

<div dir=ltr>

```
handler this.setStrokeStyle(ss: ptr[Char]);
```

</div>

دالة لتحديد نمط القلم المستعمل في الرسم.

#### حدد_عرض_القلم (setLineWidth)

```
عملية هذا.حدد_عرض_القلم(عرض_الخط: صـحيح)؛
```

<div dir=ltr>

```
handler this.setLineWidth(lw: Int);
```

</div>

دالة لتحديد عرض القلم المستعمل في الرسم.

#### ارسم_صورة (drawImage)

```
عملية هذا.ارسم_صورة(صورة: سند[مـورد_صورة]، س: صـحيح، ع: صـحيح، عرض: صـحيح، ارتفاع: صـحيح، ألفا: عـائم)؛
```

```
عملية هذا.ارسم_صورة(
    صورة: سند[مـورد_صورة]، س: صـحيح، ع: صـحيح، عرض: صـحيح، ارتفاع: صـحيح، ألفا: عـائم، تنعيم: ثـنائي
)؛
```

<div dir=ltr>

```
handler this.drawImage(img: ref[ImageResource], x: Int, y: Int, w: Int, h: Int, alpha: Float);
```

```
handler this.drawImage(
    img: ref[ImageResource], x: Int, y: Int, w: Int, h: Int, alpha: Float, smoothing: Bool
);
```

</div>

ترسم الصورة المعطاة، محجمة لتناسب الموضع والأبعاد المحددة. تطبق قيمة ألفا المعطاة على الصورة، فإن
امتلكت الصورة قناة ألفا دُمجت مع قيمة ألفا المعطاة.

المعطيات:

* `صورة` (`img`) سند إلى مورد الصورة المراد رسمها.

* `س` (`x`)، `ع` (`y`)، `عرض` (`w`)، `ارتفاع` (`h`) إحداثيات المستطيل المراد رسم الصورة ضمنه و عرضه و ارتفاعه.

* `ألفا` (`alpha`) الشفافية للصورة.

* `تنعيم` (`smoothing`) يحدد خوارزمية التحجيم. إعطاء قيمة 1 لهذا المعطى تعني أن التحجيم يتم بخوارزمية
تنعيم (أي مزج بين النقاط القريبة) بينما إعطاء القيمة 0 يجعل التحجيم يتم بخوارزمية النقطة الأقرب. الصيغة
الأولى للدالة تعتمد القيمة 1 لهذا المعطى.

#### فرغ (clear)

```
عملية هذا.فرغ()؛
```

<div dir=ltr>

```
handler this.clear();
```

</div>

تفرغ مساحة الرسم الحالية بالكامل.

</div>

