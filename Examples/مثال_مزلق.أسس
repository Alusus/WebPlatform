اشمل "مـتم/طـرفية"؛
اشمل "مـتم/مـصفوفة"؛
اشمل "مـتم/طـرفية"؛
اشمل "مـتم/سندات"؛
اشمل "مـحا"؛
مـحا.اشمل_ملف("Alusus/WebPlatform"، "مـنصة_ويب.أسس")؛
استخدم مـتم؛
استخدم مـنصة_ويب؛

//==============================================================================
// الخلفية

@مسار_الموارد عرف مسار_الموارد: "Assets/"؛

//==============================================================================
// الواجهة

@منفذ_مرئي["/"]
@عنوان["مثال منصة ويب - المزلق"]
دالة _رئيسية_ {
    عرف مزلق_يسار: سـندنا[مـزلق]؛
    عرف مزلق_يمين: سـندنا[مـزلق]؛
    عرف مزلق_فوق: سـندنا[مـزلق]؛
    عرف مزلق_تحت: سـندنا[مـزلق]؛

    // بناء المشهد الرئيسي
    نـافذة.النموذج.الطراز.{
        الحشوة = مـسافة4.نقاط(0)؛
        الهامش = مـسافة4.نقاط(0)؛
        الطول = مـسافة.مئوي(100)؛
        الاتجاه = اتـجاه._من_اليمين_؛
    }؛

    نـافذة.النموذج.حدد_المشهد(صـندوق({}).{
        الطراز.{
            الإظهار = إظـهار._مرن_؛
            النسق = نـسق._عمود_؛
            الفجوة = مـسافة.نقاط(20)؛
            الحشوة = مـسافة4.نقاط(20)؛
            الطول = مـسافة.مئوي(100) - مـسافة.نقاط(20 * 2)؛
            الخلفية = خـلفية(لـون(245، 245، 245))؛
        }؛
        أضف_فروع({
            كـتابة(نـص("أمثلة على مركب المزلق")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(32.0)؛
                    سمك_الخط = سـمك_خط._سميك_؛
                    الهامش = مـسافة4.نقاط(0، 0، 10، 0)؛
                    لون_الخط = لـون(30، 30، 30)؛
                }؛
            }،

            كـتابة(نـص("اضغط على الأزرار أدناه لفتح المزالق من اتجاهات مختلفة")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(16.0)؛
                    الهامش = مـسافة4.نقاط(0، 0، 20، 0)؛
                    لون_الخط = لـون(80، 80، 80)؛
                }؛
            }،

            // حاوية الأزرار
            صـندوق({}).{
                الطراز.{
                    الإظهار = إظـهار._مرن_؛
                    النسق = نـسق._سطر_؛
                    الفجوة = مـسافة.نقاط(10)؛
                    لف_المرونة = لـف_مرونة._لف_؛
                }؛
                أضف_فروع({
                    الـزر(نـص("افتح اللوحة اليسرى")).{
                        الطراز.{
                            الحشوة = مـسافة4.نقاط(12، 24، 12، 24)؛
                            حجم_الخط = مـسافة.نقاط(16.0)؛
                            الخلفية = خـلفية(لـون(59، 130، 246))؛
                            لون_الخط = لـون(255، 255، 255)؛
                            نصف_قطر_الإطار = مـسافة4.نقاط(6)؛
                            سمك_الإطار = مـسافة4.نقاط(0)؛
                            المؤشر = مـؤشر._سبابة_؛
                        }؛
                        الطراز({ مـحدد_حالة._حوم_ }).{
                            الخلفية = خـلفية(لـون(37، 99، 235))؛
                        }؛
                        عند_الضغط.اربط(مغلفة (مزلق_يسار: كسند)&(ودجة: سند[ودجـة]، حمولة: سند[صـحيح]) {
                            مزلق_يسار.افتح()؛
                        })؛
                    }،

                    الـزر(نـص("افتح اللوحة اليمنى")).{
                        الطراز.{
                            الحشوة = مـسافة4.نقاط(12، 24، 12، 24)؛
                            حجم_الخط = مـسافة.نقاط(16.0)؛
                            الخلفية = خـلفية(لـون(16، 185، 129))؛
                            لون_الخط = لـون(255، 255، 255)؛
                            نصف_قطر_الإطار = مـسافة4.نقاط(6)؛
                            سمك_الإطار = مـسافة4.نقاط(0)؛
                            المؤشر = مـؤشر._سبابة_؛
                        }؛
                        الطراز({ مـحدد_حالة._حوم_ }).{
                            الخلفية = خـلفية(لـون(5، 150، 105))؛
                        }؛
                        عند_الضغط.اربط(مغلفة (مزلق_يمين: كسند)&(ودجة: سند[ودجـة]، حمولة: سند[صـحيح]) {
                            مزلق_يمين.افتح()؛
                        })؛
                    }،

                    الـزر(نـص("افتح اللوحة العلوية")).{
                        الطراز.{
                            الحشوة = مـسافة4.نقاط(12، 24، 12، 24)؛
                            حجم_الخط = مـسافة.نقاط(16.0)؛
                            الخلفية = خـلفية(لـون(245، 158، 11))؛
                            لون_الخط = لـون(255، 255، 255)؛
                            نصف_قطر_الإطار = مـسافة4.نقاط(6)؛
                            سمك_الإطار = مـسافة4.نقاط(0)؛
                            المؤشر = مـؤشر._سبابة_؛
                        }؛
                        الطراز({ مـحدد_حالة._حوم_ }).{
                            الخلفية = خـلفية(لـون(217، 119، 6))؛
                        }؛
                        عند_الضغط.اربط(مغلفة (مزلق_فوق: كسند)&(ودجة: سند[ودجـة]، حمولة: سند[صـحيح]) {
                            مزلق_فوق.افتح()؛
                        })؛
                    }،

                    الـزر(نـص("افتح اللوحة السفلية")).{
                        الطراز.{
                            الحشوة = مـسافة4.نقاط(12، 24، 12، 24)؛
                            حجم_الخط = مـسافة.نقاط(16.0)؛
                            الخلفية = خـلفية(لـون(239، 68، 68))؛
                            لون_الخط = لـون(255، 255، 255)؛
                            نصف_قطر_الإطار = مـسافة4.نقاط(6)؛
                            سمك_الإطار = مـسافة4.نقاط(0)؛
                            المؤشر = مـؤشر._سبابة_؛
                        }؛
                        الطراز({ مـحدد_حالة._حوم_ }).{
                            الخلفية = خـلفية(لـون(220، 38، 38))؛
                        }؛
                        عند_الضغط.اربط(مغلفة (مزلق_تحت: كسند)&(ودجة: سند[ودجـة]، حمولة: سند[صـحيح]) {
                            مزلق_تحت.افتح()؛
                        })؛
                    }
                })؛
            }،

            // صندوق المعلومات
            صـندوق({}).{
                الطراز.{
                    الخلفية = خـلفية(لـون(219، 234، 254))؛
                    الحشوة = مـسافة4.نقاط(16)؛
                    نصف_قطر_الإطار = مـسافة4.نقاط(8)؛
                    الهامش = مـسافة4.نقاط(20، 0، 0، 0)؛
                }؛
                أضف_فروع({
                    كـتابة(نـص(
                        "المميزات:\n"
                        "• انقر على الخلفية لإغلاق المزلق\n"
                        "• حركات انزلاق سلسة\n"
                        "• موقع قابل للتخصيص (يسار، يمين، فوق، تحت)\n"
                        "• حجم وتنسيق قابل للتكوين"
                    )).{
                        الطراز.{
                            حجم_الخط = مـسافة.نقاط(14.0)؛
                            ارتفاع_الكتابة = مـسافة.نقاط(1.6 * 14)؛
                            لون_الخط = لـون(30، 64، 175)؛
                            محرف_المسافة = مـحرف_مسافة._حرفي_لف_؛
                        }؛
                    }
                })؛
            }،

            // المزلق الأيسر
            مـزلق().{
                مزلق_يسار = هذا؛
                الموقع = مـوقع_مزلق._يسار_؛
                حجم_اللوحة = مـسافة.نقاط(320)؛
                حدد_المحتوى(
                    صـندوق({}).{
                        الطراز.{
                            الحشوة = مـسافة4.نقاط(20)؛
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._عمود_؛
                            الفجوة = مـسافة.نقاط(20)؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("القائمة الجانبية")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(24.0)؛
                                    سمك_الخط = سـمك_خط._سميك_؛
                                    لون_الخط = لـون(30، 30، 30)؛
                                }؛
                            }،

                            كـتابة(نـص("هذا المزلق ينزلق من الجانب الأيسر. مثالي لقوائم التنقل!")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(14.0)؛
                                    ارتفاع_الكتابة = مـسافة.نقاط(1.5 * 14)؛
                                    لون_الخط = لـون(100، 100، 100)؛
                                }؛
                            }،

                            صـندوق({}).{
                                الطراز.{
                                    الإظهار = إظـهار._مرن_؛
                                    النسق = نـسق._عمود_؛
                                    الفجوة = مـسافة.نقاط(8)؛
                                }؛
                                أضف_فروع({
                                    كـتابة(نـص("• الرئيسية"))،
                                    كـتابة(نـص("• حول"))،
                                    كـتابة(نـص("• الخدمات"))،
                                    كـتابة(نـص("• اتصل بنا"))
                                })؛
                            }،

                            الـزر(نـص("إغلاق")).{
                                الطراز.{
                                    الحشوة = مـسافة4.نقاط(10، 20، 10، 20)؛
                                    الخلفية = خـلفية(لـون(220، 38، 38))؛
                                    لون_الخط = لـون(255، 255، 255)؛
                                    نصف_قطر_الإطار = مـسافة4.نقاط(6)؛
                                    سمك_الإطار = مـسافة4.نقاط(0)؛
                                    المؤشر = مـؤشر._سبابة_؛
                                    الهامش = مـسافة4.نقاط(20، 0، 0، 0)؛
                                }؛
                                عند_الضغط.اربط(مغلفة (مزلق_يسار: كسند)&(ودجة: سند[ودجـة]، حمولة: سند[صـحيح]) {
                                    مزلق_يسار.أغلق()؛
                                })؛
                            }
                        })؛
                    }
                )؛
            }،

            // المزلق الأيمن
            مـزلق().{
                مزلق_يمين = هذا؛
                الموقع = مـوقع_مزلق._يمين_؛
                حجم_اللوحة = مـسافة.نقاط(400)؛
                حدد_المحتوى(
                    صـندوق({}).{
                        الطراز.{
                            الحشوة = مـسافة4.نقاط(20)؛
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._عمود_؛
                            الفجوة = مـسافة.نقاط(20)؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("لوحة الإعدادات")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(24.0)؛
                                    سمك_الخط = سـمك_خط._سميك_؛
                                    لون_الخط = لـون(30، 30، 30)؛
                                }؛
                            }،

                            كـتابة(نـص("هذا المزلق ينزلق من الجانب الأيمن. رائع للإعدادات والمرشحات!")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(14.0)؛
                                    ارتفاع_الكتابة = مـسافة.نقاط(1.5 * 14)؛
                                    لون_الخط = لـون(100، 100، 100)؛
                                }؛
                            }،

                            كـتابة(نـص("خيارات الإعدادات ستكون هنا...")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(14.0)؛
                                    لون_الخط = لـون(150، 150، 150)؛
                                }؛
                            }،

                            الـزر(نـص("إغلاق")).{
                                الطراز.{
                                    الحشوة = مـسافة4.نقاط(10، 20، 10، 20)؛
                                    الخلفية = خـلفية(لـون(220، 38، 38))؛
                                    لون_الخط = لـون(255، 255، 255)؛
                                    نصف_قطر_الإطار = مـسافة4.نقاط(6)؛
                                    سمك_الإطار = مـسافة4.نقاط(0)؛
                                    المؤشر = مـؤشر._سبابة_؛
                                    الهامش = مـسافة4.نقاط(20، 0، 0، 0)؛
                                }؛
                                عند_الضغط.اربط(مغلفة (مزلق_يمين: كسند)&(ودجة: سند[ودجـة]، حمولة: سند[صـحيح]) {
                                    مزلق_يمين.أغلق()؛
                                })؛
                            }
                        })؛
                    }
                )؛
            }،

            // المزلق العلوي
            مـزلق().{
                مزلق_فوق = هذا؛
                الموقع = مـوقع_مزلق._فوق_؛
                حجم_اللوحة = مـسافة.نقاط(250)؛
                حدد_المحتوى(
                    صـندوق({}).{
                        الطراز.{
                            الحشوة = مـسافة4.نقاط(20)؛
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._عمود_؛
                            الفجوة = مـسافة.نقاط(15)؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("إشعار علوي")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(24.0)؛
                                    سمك_الخط = سـمك_خط._سميك_؛
                                    لون_الخط = لـون(30، 30، 30)؛
                                }؛
                            }،

                            كـتابة(نـص("هذا المزلق ينزلق من الأعلى. مفيد للإشعارات والإعلانات!")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(14.0)؛
                                    ارتفاع_الكتابة = مـسافة.نقاط(1.5 * 14)؛
                                    لون_الخط = لـون(100، 100، 100)؛
                                }؛
                            }،

                            الـزر(نـص("إغلاق")).{
                                الطراز.{
                                    الحشوة = مـسافة4.نقاط(10، 20، 10، 20)؛
                                    الخلفية = خـلفية(لـون(220، 38، 38))؛
                                    لون_الخط = لـون(255، 255، 255)؛
                                    نصف_قطر_الإطار = مـسافة4.نقاط(6)؛
                                    سمك_الإطار = مـسافة4.نقاط(0)؛
                                    المؤشر = مـؤشر._سبابة_؛
                                }؛
                                عند_الضغط.اربط(مغلفة (مزلق_فوق: كسند)&(ودجة: سند[ودجـة]، حمولة: سند[صـحيح]) {
                                    مزلق_فوق.أغلق()؛
                                })؛
                            }
                        })؛
                    }
                )؛
            }،

            // المزلق السفلي
            مـزلق().{
                مزلق_تحت = هذا؛
                الموقع = مـوقع_مزلق._تحت_؛
                حجم_اللوحة = مـسافة.نقاط(300)؛
                حدد_المحتوى(
                    صـندوق({}).{
                        الطراز.{
                            الحشوة = مـسافة4.نقاط(20)؛
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._عمود_؛
                            الفجوة = مـسافة.نقاط(15)؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("اللوحة السفلية")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(24.0)؛
                                    سمك_الخط = سـمك_خط._سميك_؛
                                    لون_الخط = لـون(30، 30، 30)؛
                                }؛
                            }،

                            كـتابة(نـص("هذا المزلق ينزلق من الأسفل. شائع في واجهات الهواتف المحمولة!")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(14.0)؛
                                    ارتفاع_الكتابة = مـسافة.نقاط(1.5 * 14)؛
                                    لون_الخط = لـون(100، 100، 100)؛
                                }؛
                            }،

                            كـتابة(نـص("تستخدم اللوحات السفلية عادة لقوائم الإجراءات، خيارات المشاركة، إلخ.")).{
                                الطراز.{
                                    حجم_الخط = مـسافة.نقاط(14.0)؛
                                    لون_الخط = لـون(150، 150، 150)؛
                                }؛
                            }،

                            الـزر(نـص("إغلاق")).{
                                الطراز.{
                                    الحشوة = مـسافة4.نقاط(10، 20، 10، 20)؛
                                    الخلفية = خـلفية(لـون(220، 38، 38))؛
                                    لون_الخط = لـون(255، 255، 255)؛
                                    نصف_قطر_الإطار = مـسافة4.نقاط(6)؛
                                    سمك_الإطار = مـسافة4.نقاط(0)؛
                                    المؤشر = مـؤشر._سبابة_؛
                                }؛
                                عند_الضغط.اربط(مغلفة (مزلق_تحت: كسند)&(ودجة: سند[ودجـة]، حمولة: سند[صـحيح]) {
                                    مزلق_تحت.أغلق()؛
                                })؛
                            }
                        })؛
                    }
                )؛
            }
        })؛
    })؛

    نفذ_حلقة_معالجة_الأحداث()؛
}

دالة ابدأ_خادمي() {
    طـرفية.اطبع("بدء الخادم على المنفذ 8010...\nالرابط: http://localhost:8010/\n")؛
    ابن_وشغل_الخادم(مـصفوفة[مـؤشر_محارف]({ "listening_ports"، "8010"، "static_file_max_age"، "0" }))؛
}

ابدأ_خادمي()؛
