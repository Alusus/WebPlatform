اشمل "مـتم/طـرفية"؛
اشمل "مـتم/مـصفوفة"؛
اشمل "مـتم/سندات"؛
اشمل "مـحا"؛
مـحا.اشمل_ملف("Alusus/WebPlatform"، "مـنصة_ويب.أسس")؛

استخدم مـتم؛
استخدم مـنصة_ويب؛

//==============================================================================
// الخادم

@مسار_الموارد عرف مسار_الموارد: "Assets/"؛

//==============================================================================
// الواجهة

@منفذ_مرئي["/"]
@عنوان["مثال منصة الويب - الأزرار الانتقائية"]
دالة الرئيسية {
    عرف نص_اللون_المختار: سـندنا[كـتابة]؛
    عرف نص_الرياضة_المختارة: سـندنا[كـتابة]؛

    // بناء المشهد
    نـافذة.النموذج.الطراز.{
        الحشوة = مـسافة4.نقاط(20)؛
        الهامش = مـسافة4.نقاط(0)؛
        الاتجاه = اتـجاه._من_اليمين_؛
    }؛
    نـافذة.النموذج.حدد_المشهد(صـندوق({}).{
        الطراز.{
            الإظهار = إظـهار._مرن_؛
            النسق = نـسق._عمود_؛
            الفجوة = مـسافة.نقاط(10)؛
        }؛
        أضف_فروع({
            كـتابة(نـص("اختبار الأزرار الانتقائية")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(24.0)؛
                    سمك_الخط = 700؛
                    الهامش = مـسافة4.نقاط(0، 0، 20، 0)؛
                }؛
            }،

            كـتابة(نـص("اختر لونك المفضل:")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(18.0)؛
                    الهامش = مـسافة4.نقاط(0، 0، 10، 0)؛
                }؛
            }،

            // مجموعة الأزرار الانتقائية
            صـندوق({}).{
                الطراز.{
                    الإظهار = إظـهار._مرن_؛
                    النسق = نـسق._عمود_؛
                    الفجوة = مـسافة.نقاط(8)؛
                    الهامش = مـسافة4.نقاط(0، 0، 0، 20)؛
                }؛
                أضف_فروع({
                    صـندوق({}).{
                        الطراز.{
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._سطر_؛
                            الفجوة = مـسافة.نقاط(8)؛
                            المحاذاة = مـحاذاة._وسط_؛
                        }؛
                        أضف_فروع({
                            الـزر_الانتقائي(نـص("لون")، نـص("أحمر")، 1).{
                                عند_التغيير.اربط(مغلفة (نص_اللون_المختار: كسند)&(ودجة: سند[الـزر_الانتقائي]، حمولة: سند[صـحيح]) {
                                    نص_اللون_المختار.حدد_النص(نـص("اللون المختار: أحمر"))؛
                                })؛
                            }،
                            كـتابة(نـص("أحمر"))؛
                        })؛
                    }،

                    صـندوق({}).{
                        الطراز.{
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._سطر_؛
                            الفجوة = مـسافة.نقاط(8)؛
                            المحاذاة = مـحاذاة._وسط_؛
                        }؛
                        أضف_فروع({
                            الـزر_الانتقائي(نـص("لون")، نـص("أخضر")).{
                                عند_التغيير.اربط(مغلفة (نص_اللون_المختار: كسند)&(ودجة: سند[الـزر_الانتقائي]، حمولة: سند[صـحيح]) {
                                    نص_اللون_المختار.حدد_النص(نـص("اللون المختار: أخضر"))؛
                                })؛
                            }،
                            كـتابة(نـص("أخضر"))؛
                        })؛
                    }،

                    صـندوق({}).{
                        الطراز.{
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._سطر_؛
                            الفجوة = مـسافة.نقاط(8)؛
                            المحاذاة = مـحاذاة._وسط_؛
                        }؛
                        أضف_فروع({
                            الـزر_الانتقائي(نـص("لون")، نـص("أزرق")).{
                                عند_التغيير.اربط(مغلفة (نص_اللون_المختار: كسند)&(ودجة: سند[الـزر_الانتقائي]، حمولة: سند[صـحيح]) {
                                    نص_اللون_المختار.حدد_النص(نـص("اللون المختار: أزرق"))؛
                                })؛
                            }،
                            كـتابة(نـص("أزرق"))؛
                        })؛
                    }
                })؛
            }،

            كـتابة(نـص("اللون المختار: أحمر")).{
                نص_اللون_المختار = هذا~مثل[سـندنا[كـتابة]]؛
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(16.0)؛
                    الهامش = مـسافة4.نقاط(20، 0، 0، 0)؛
                    سمك_الخط = سـمك_خط._سميك_؛
                }؛
            }،

            كـتابة(نـص("اختر رياضتك المفضلة:")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(18.0)؛
                    الهامش = مـسافة4.نقاط(0، 0، 10، 0)؛
                }؛
            }،

            // مجموعة الأزرار الانتقائية
            صـندوق({}).{
                الطراز.{
                    الإظهار = إظـهار._مرن_؛
                    النسق = نـسق._عمود_؛
                    الفجوة = مـسافة.نقاط(8)؛
                    الهامش = مـسافة4.نقاط(0، 0، 0، 20)؛
                }؛
                أضف_فروع({
                    صـندوق({}).{
                        الطراز.{
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._سطر_؛
                            الفجوة = مـسافة.نقاط(8)؛
                            المحاذاة = مـحاذاة._وسط_؛
                        }؛
                        أضف_فروع({
                            الـزر_الانتقائي(نـص("رياضة")، نـص("كرة_قدم")، 1).{
                                عند_التغيير.اربط(مغلفة (نص_الرياضة_المختارة: كسند)&(ودجة: سند[الـزر_الانتقائي]، حمولة: سند[صـحيح]) {
                                    نص_الرياضة_المختارة.حدد_النص(نـص("الرياضة المختارة: كرة القدم"))؛
                                })؛
                            }،
                            كـتابة(نـص("كرة القدم"))؛
                        })؛
                    }،

                    صـندوق({}).{
                        الطراز.{
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._سطر_؛
                            الفجوة = مـسافة.نقاط(8)؛
                            المحاذاة = مـحاذاة._وسط_؛
                        }؛
                        أضف_فروع({
                            الـزر_الانتقائي(نـص("رياضة")، نـص("تنس_طاولة")).{
                                عند_التغيير.اربط(مغلفة (نص_الرياضة_المختارة: كسند)&(ودجة: سند[الـزر_الانتقائي]، حمولة: سند[صـحيح]) {
                                    نص_الرياضة_المختارة.حدد_النص(نـص("الرياضة المختارة: تنس الطاولة"))؛
                                })؛
                            }،
                            كـتابة(نـص("تنس الطاولة"))؛
                        })؛
                    }،

                    صـندوق({}).{
                        الطراز.{
                            الإظهار = إظـهار._مرن_؛
                            النسق = نـسق._سطر_؛
                            الفجوة = مـسافة.نقاط(8)؛
                            المحاذاة = مـحاذاة._وسط_؛
                        }؛
                        أضف_فروع({
                            الـزر_الانتقائي(نـص("رياضة")، نـص("تنس")).{
                                عند_التغيير.اربط(مغلفة (نص_الرياضة_المختارة: كسند)&(ودجة: سند[الـزر_الانتقائي]، حمولة: سند[صـحيح]) {
                                    نص_الرياضة_المختارة.حدد_النص(نـص("الرياضة المختارة: التنس"))؛
                                })؛
                            }،
                            كـتابة(نـص("التنس"))؛
                        })؛
                    }
                })؛
            }،

            كـتابة(نـص("الرياضة المختارة: كرة القدم")).{
                نص_الرياضة_المختارة = هذا~مثل[سـندنا[كـتابة]]؛
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(16.0)؛
                    الهامش = مـسافة4.نقاط(20، 0، 0، 0)؛
                    سمك_الخط = سـمك_خط._سميك_؛
                }؛
            }
        })؛
    })؛

    نفذ_حلقة_معالجة_الأحداث()؛
}

دالة ابدأ_الخادم() {
    طـرفية.اطبع("تشغيل الخادم على المنفذ 8010...\nURL: http://localhost:8010/\n")؛
    ابن_وشغل_الخادم(مـصفوفة[مـؤشر_محارف]({ "listening_ports"، "8010"، "static_file_max_age"، "0" }))؛
}

ابدأ_الخادم()؛