اشمل "مـتم/طـرفية"؛
اشمل "مـتم/مـصفوفة"؛
اشمل "مـحا"؛
مـحا.اشمل_ملف("Alusus/WebPlatform"، "مـنصة_ويب.أسس")؛
استخدم مـتم؛
استخدم مـنصة_ويب؛

//==============================================================================
// الخادم

@مسار_الموارد عرف مسار_الموارد: "Assets/"؛

//==============================================================================
// الواجهة

@منفذ_مرئي["/"]
@عنوان["مثال منصة الويب - خاصية اللف في نمط المرونة"]
دالة الرئيسية {
    // بناء المشهد
    نـافذة.النموذج.الطراز.{
        الحشوة = مـسافة4.نقاط(20)؛
        الهامش = مـسافة4.نقاط(0)؛
        الاتجاه = اتـجاه._من_اليمين_؛
    }؛
    نـافذة.النموذج.حدد_المشهد(صـندوق({}).{
        الطراز.{
            الإظهار = إظـهار._مرن_؛
            النسق = نـسق._عمود_؛
            الفجوة = مـسافة.نقاط(25)؛
        }؛
        أضف_فروع({
            كـتابة(نـص("خاصية اللف في نمط المرونة")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(28.0)؛
                    سمك_الخط = 700؛
                    محاذاة_النص = مـحاذاة_نص._وسط_؛
                }؛
            }،

            كـتابة(نـص("لف_المرونة: بلا_لف (الافتراضي)")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(18.0)؛
                    سمك_الخط = 700؛
                }؛
            }،

            كـتابة(نـص("تبقى العناصر في سطر واحد وقد تفيض من الحاوية")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(14.0)؛
                    لون_الخط = لـون("666")؛
                }؛
            }،

            // مثال بلا_لف
            صـندوق({}).{
                الطراز.{
                    الإظهار = إظـهار._مرن_؛
                    النسق = نـسق._سطر_؛
                    لف_المرونة = لـف_مرونة._بلا_لف_؛
                    الحشوة = مـسافة4.نقاط(15)؛
                    الخلفية = خـلفية(لـون("e8f4f8"))؛
                    أقصى_عرض = مـسافة.نقاط(500)؛
                    سمك_الإطار = مـسافة4.نقاط(2)؛
                    طراز_الإطار = طـراز_إطار._مستمر_؛
                    لون_الإطار = لـون("3498db")؛
                }؛
                أضف_فروع({
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("ff6b6b"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 1")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("4ecdc4"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 2")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("45b7d1"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 3")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("f7dc6f"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 4")).{
                                الطراز.{
                                    لون_الخط = لـون("333")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("a569bd"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 5")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }
                })؛
            }،

            كـتابة(نـص("لف_المرونة: لف")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(18.0)؛
                    سمك_الخط = 700؛
                }؛
            }،

            كـتابة(نـص("تلتف العناصر إلى أسطر جديدة عند الحاجة، من الأعلى إلى الأسفل")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(14.0)؛
                    لون_الخط = لـون("666")؛
                }؛
            }،

            // مثال لف
            صـندوق({}).{
                الطراز.{
                    الإظهار = إظـهار._مرن_؛
                    النسق = نـسق._سطر_؛
                    لف_المرونة = لـف_مرونة._لف_؛
                    الفجوة = مـسافة.نقاط(10)؛
                    الحشوة = مـسافة4.نقاط(15)؛
                    الخلفية = خـلفية(لـون("f0f8e8"))؛
                    أقصى_عرض = مـسافة.نقاط(500)؛
                    سمك_الإطار = مـسافة4.نقاط(2)؛
                    طراز_الإطار = طـراز_إطار._مستمر_؛
                    لون_الإطار = لـون("58d68d")؛
                }؛
                أضف_فروع({
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("e74c3c"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 1")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("3498db"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 2")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("f39c12"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 3")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("16a085"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 4")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("8e44ad"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 5")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("c0392b"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 6")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }
                })؛
            }،

            كـتابة(نـص("لف_المرونة: لف_معكوس")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(18.0)؛
                    سمك_الخط = 700؛
                }؛
            }،

            كـتابة(نـص("تلتف العناصر إلى أسطر جديدة بترتيب معكوس، من الأسفل إلى الأعلى")).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(14.0)؛
                    لون_الخط = لـون("666")؛
                }؛
            }،

            // مثال لف_معكوس
            صـندوق({}).{
                الطراز.{
                    الإظهار = إظـهار._مرن_؛
                    النسق = نـسق._سطر_؛
                    لف_المرونة = لـف_مرونة._لف_معكوس_؛
                    الفجوة = مـسافة.نقاط(10)؛
                    الحشوة = مـسافة4.نقاط(15)؛
                    الخلفية = خـلفية(لـون("fdf2e9"))؛
                    أقصى_عرض = مـسافة.نقاط(500)؛
                    سمك_الإطار = مـسافة4.نقاط(2)؛
                    طراز_الإطار = طـراز_إطار._مستمر_؛
                    لون_الإطار = لـون("e67e22")؛
                }؛
                أضف_فروع({
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("1abc9c"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 1")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("2ecc71"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 2")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("9b59b6"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 3")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("34495e"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 4")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("e67e22"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 5")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }،
                    صـندوق({}).{
                        الطراز.{
                            العرض = مـسافة.نقاط(120)؛
                            الطول = مـسافة.نقاط(60)؛
                            الخلفية = خـلفية(لـون("95a5a6"))؛
                            الإظهار = إظـهار._مرن_؛
                            المحاذاة = مـحاذاة._وسط_؛
                            ملء_السطر = مـلء_سطر._وسط_؛
                        }؛
                        أضف_فروع({
                            كـتابة(نـص("صندوق 6")).{
                                الطراز.{
                                    لون_الخط = لـون("fff")؛
                                    سمك_الخط = 700؛
                                }؛
                            }
                        })؛
                    }
                })؛
            }،

            كـتابة(نـص(
                "خاصية لف_المرونة تتحكم في كيفية التفاف عناصر flex على أسطر متعددة عندما تتجاوز عرض الحاوية. بلا_لف "
                "يبقي العناصر في سطر واحد، لف يلتف من الأعلى إلى الأسفل، ولف_معكوس يلتف من الأسفل إلى الأعلى."
            )).{
                الطراز.{
                    حجم_الخط = مـسافة.نقاط(14.0)؛
                    محاذاة_النص = مـحاذاة_نص._وسط_؛
                    الخلفية = خـلفية(لـون("eef2f7"))؛
                    الحشوة = مـسافة4.نقاط(15)؛
                    ارتفاع_الكتابة = مـسافة.نقاط(22.0)؛
                }؛
            }
        })؛
    })؛

    نفذ_حلقة_معالجة_الأحداث()؛
}

دالة ابدأ_الخادم() {
    طـرفية.اطبع("تشغيل الخادم على المنفذ 8010...\nURL: http://localhost:8010/\n")؛
    ابن_وشغل_الخادم(مـصفوفة[مـؤشر_محارف]({ "listening_ports"، "8010"، "static_file_max_age"، "0" }))؛
}

ابدأ_الخادم()؛
